<div class="container"
  fxLayout
  fxLayout.xs="column"
  fxLayoutAlign="center"
  fxLayoutGap="10px"
  fxLayoutGap.xs="0">
    <div class="item item-1" fxFlex="5%"></div>
    <div class="item item-2" fxFlex>

      <h2 class="example-h2">Listener</h2>
      <form>
        <mat-form-field class="full-width">
          <input matInput #message class="full-width" maxlength="256" placeholder="Command" disabled>
          <mat-hint align="end">Say 'Show help' for set of commands</mat-hint>
          <mat-icon matSuffix>hearing</mat-icon>
        </mat-form-field>
      </form>
    
    </div>
    <div class="item item-3" fxFlex="5%"></div>
</div>


<div class="alert alert-info mt-3">
  <h2 class="text-center">Speak to Play</h2>

  <p>Your browser <a class="alert-link" href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition#Browser_compatibility">supports speech recognition</a>! To play a madlib game using speech, follow these instructions:</p>

  <ol>
    <li>Click the <em>"Listen"</em> button below.</li>
    <li>If prompted, grant the app permission to use your device's microphone.</li>
    <li>
      Clearly say a <em>type</em> of word (also known as a "part of speech") followed by <em>one</em> word to fill in the form below. Here are some examples:
      <ul>
        <li><em>"noun <strong>cat</strong>"</em> (person, place, or thing)</li>
        <li><em>"verb <strong>jumping</strong>"</em> (action, present tense), <em>"verb <strong>ran</strong>"</em> (action, past tense)</li>
        <li><em>"adjective <strong>flashy</strong>"</em> (describing word)</li>
      </ul>
    </li>
    <li>Say <em>one command at a time</em>, then wait for the app to assess your speech to fill a madlib field. This could take a few seconds.</li>
    <li>Repeat until all fields are filled in.</li>
  </ol>

  <p>You may also <em>"Stop"</em> listening at any time and enter (or edit) words manually.</p>

  <div class="row mb-3">
    <div class="col btn-group">
      <button
        class="btn btn-primary col-6"
        (click)="svcSpeech.startListening()"
        [disabled]="svcSpeech.listening">
          <img class="icon" src="/assets/images/mic-on.png">{{btnLabel}}
      </button>

      <button
        class="btn btn-danger col-6"
        (click)="svcSpeech.abort()"
        [disabled]="!svcSpeech.listening">
          <img class="icon" src="/assets/images/mic-off.png">Stop
      </button>
    </div>
  </div>

  <div class="row" *ngIf="errorMsg">
    <div class="col">
      <p class="alert alert-warning">
        {{errorMsg}}
      </p>
    </div>
  </div>

</div>